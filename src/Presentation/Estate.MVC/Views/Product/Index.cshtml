@model PaginationVM<ProductFilterVM>


<section class="section-full section-full-mod-1 text-left">
    <div class="container">
        <div class="row">
            <div class="col-xs-12">
                <h1>Catalog</h1>
                <p></p>
                <ol class="breadcrumb">
                    <li>
                        <a asp-action="Index" asp-controller="Home">Home</a>
                    </li>
                    <li class="active">Catalog</li>
                </ol>
            </div>
        </div>
    </div>
</section>
<!--Section Find your home-->
<section class="section-sm section-bottom-0 undefined text-left">
    <div class="container position-margin-top position-margin-top-mod-1">
        <div class="search-form-wrap bg-white container-shadow">
            <h3>Find Your Home</h3>
            <div class="form-variant-1">
                <div class="form-group">
                    <form asp-action="Index" asp-controller="Product" asp-route-categoryId="@Model.CategoryId" asp-route-minBaths="@Model.MinBaths" asp-route-minBeds="@Model.MinBeds"
                          asp-route-minArea="@Model.MinArea" asp-route-maxArea="@Model.MaxArea"
                          asp-route-minPrice="@Model.MinPrice" asp-route-maxPrice="@Model.MaxPrice"
                          asp-route-order="@Model.Order">
                        <label for="search" class="form-label">Search now</label>
                        <input type="text" name="search" placeholder="Search now" value="@(Model.Search == null? "":Model.Search)" class="form-control">
                    </form>
                </div>
                <div class="form-group">
                    <form asp-action="Index" asp-controller="Product" asp-route-minBaths="@Model.MinBaths" asp-route-minBeds="@Model.MinBeds"
                          asp-route-minArea="@Model.MinArea" asp-route-maxArea="@Model.MaxArea"
                          asp-route-order="@Model.Order" asp-route-minPrice="@Model.MinPrice" asp-route-maxPrice="@Model.MaxPrice"
                          asp-route-search="@Model.Search">
                        <label for="categoryId" class="form-label">Categories</label>
                        <select name="categoryId" onchange="this.form.submit()" class="form-control select-filter">
                            <option value="">Any</option>
                            @foreach (var category in Model.Item.Categories)
                            {
                                <option value="@category.Id">@category.Name</option>
                            }
                        </select>
                    </form>
                </div>
                <div class="form-group width-1">
                    <span>
                        Price (USD)
                        <br>
                    </span>
                    <div class="form-inline-flex-xs">
                        <form asp-action="Index" asp-controller="Product" asp-route-categoryId="@Model.CategoryId" asp-route-minBaths="@Model.MinBaths" asp-route-minBeds="@Model.MinBeds"
                              asp-route-minArea="@Model.MinArea" asp-route-maxArea="@Model.MaxArea"
                              asp-route-order="@Model.Order" asp-route-search="@Model.Search" asp-route-maxPrice="@Model.MaxPrice" class="">
                            <input placeholder="Min Price" type="number" name="minPrice" value="@(Model.MinPrice == null? 0:Model.MinPrice)" style="width:90%;" class="form-control">
                        </form>
                        <span class="text-abbey dash">—</span>
                        <form asp-action="Index" asp-controller="Product" asp-route-categoryId="@Model.CategoryId" asp-route-minBaths="@Model.MinBaths" asp-route-minBeds="@Model.MinBeds"
                              asp-route-minArea="@Model.MinArea" asp-route-maxArea="@Model.MaxArea"
                              asp-route-order="@Model.Order" asp-route-search="@Model.Search" asp-route-minPrice="@Model.MinPrice" class="">
                            <input placeholder="Max Price" type="number" name="maxPrice" value="@(Model.MaxPrice == null? 0:Model.MaxPrice)" style="width:90%;" class="form-control">
                        </form>

                    </div>
                </div>
                <div class="form-group width-1">
                    <span>
                        Area (Sq Ft)
                        <br>
                    </span>
                    <div class="form-inline-flex-xs">
                        <form asp-action="Index" asp-controller="Product" asp-route-categoryId="@Model.CategoryId" asp-route-minBaths="@Model.MinBaths" asp-route-minBeds="@Model.MinBeds"
                              asp-route-minPrice="@Model.MinPrice" asp-route-maxPrice="@Model.MaxPrice"
                              asp-route-order="@Model.Order" asp-route-search="@Model.Search" asp-route-maxArea="@Model.MaxArea" class="">
                            <input placeholder="Min Area" type="number" name="minArea" value="@(Model.MinArea == null? 0:Model.MinArea)" style="width:90%;" class="form-control">
                        </form>
                        <span class="text-abbey dash">—</span>
                        <form asp-action="Index" asp-controller="Product" asp-route-categoryId="@Model.CategoryId" asp-route-minBaths="@Model.MinBaths" asp-route-minBeds="@Model.MinBeds"
                              asp-route-order="@Model.Order" asp-route-search="@Model.Search" asp-route-minArea="@Model.MinArea" class="">
                            <input placeholder="Max Area" type="number" name="maxArea" value="@(Model.MaxArea == null? 0:Model.MaxArea)" style="width:90%;" class="form-control">
                        </form>
                    </div>
                </div>
                <div class="form-group width-2">
                    <form asp-action="Index" asp-controller="Product" asp-route-categoryId="@Model.CategoryId"
                          asp-route-minArea="@Model.MinArea" asp-route-maxArea="@Model.MaxArea"
                          asp-route-minPrice="@Model.MinPrice" asp-route-maxPrice="@Model.MaxPrice"
                          asp-route-order="@Model.Order" asp-route-search="@Model.Search" asp-route-minBeds="@Model.MinBeds" class="">
                        <label for="minBeds" class="form-label">Min Beds</label>
                        <input type="number" placeholder="Min Beds" name="minBeds" value="@(Model.MinBeds == null? 0:Model.MinBeds)" style="width:90%;" class="form-control">
                    </form>
                </div>
                <div class="form-group width-2">
                    <form asp-action="Index" asp-controller="Product" asp-route-categoryId="@Model.CategoryId"
                          asp-route-minArea="@Model.MinArea" asp-route-maxArea="@Model.MaxArea"
                          asp-route-minPrice="@Model.MinPrice" asp-route-maxPrice="@Model.MaxPrice"
                          asp-route-order="@Model.Order" asp-route-search="@Model.Search" asp-route-minBaths="@Model.MinBaths" class="">
                        <label for="minBaths" class="form-label">Min Baths</label>
                        <input type="number" placeholder="Min Baths" name="minBaths" value="@(Model.MinBaths == null? 0:Model.MinBaths)" style="width:90%;" class="form-control">
                    </form>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- Section Catalog-->
<section class="section-md section-mod-1 text-left">
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-3 pull-xs-left text-center text-sm-left">
                <!-- RD SelectMenu-->
                <div class="sort-input">
                    <div class="form-group form-group-mod-1">
                        <form asp-action="Index" asp-controller="Product" asp-route-minBaths="@Model.MinBaths" asp-route-minBeds="@Model.MinBeds"
                              asp-route-minArea="@Model.MinArea" asp-route-maxArea="@Model.MaxArea"
                              asp-route-order="@Model.Search" asp-route-categoryId="@Model.CategoryId" asp-route-minPrice="@Model.MinPrice" asp-route-maxPrice="@Model.MaxPrice">
                            <label for="sort-1" class="form-label">Sorting</label>
                            <!--Select 2-->
                            <select id="sort-1" data-minimum-results-for-search="Infinity" onchange="this.form.submit()" name="Order" class="form-control select-filter">
                                <option selected disabled>Sort by Default</option>
                                <option value="1">Name</option>
                                <option value="2">Created at</option>
                                <option value="5">Price</option>
                                <option value="3">Name by Descending</option>
                                <option value="4">Created at by Descending</option>
                                <option value="6">Price by Descending</option>
                            </select>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-12 col-lg-8">
                <div class="row clearleft-custom-5">
                    @foreach (var product in Model.Item.Products)
                    {
                        <div class="col-xs-12 col-sm-6">
                            <div class="thumbnail thumbnail-3">
                                <a asp-action="Detail" asp-controller="Product" asp-route-id="@product.Id" asp-route-returnurl="@Context.Request.Path.Value" class="img-link">
                                    <img src="@product.Images.FirstOrDefault(x => x.IsPrimary == true).Url" alt="@product.Name" width="370" height="250">
                                </a>
                                <div class="caption">
                                    <h4>
                                        <a asp-action="Detail" asp-controller="Product" asp-route-id="@product.Id" asp-route-returnurl="@Context.Request.Path.Value" class="text-sushi">@product.Name</a>
                                    </h4>
                                    <span class="thumbnail-price h5">
                                        $@product.Price
                                        <span class="mon text-regular">/@product.OrderDayOrMoth</span>
                                        <a style="margin-left:145px;" id="@product.Id" onclick="AddWishlistButton(this)">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-heart" viewBox="0 0 16 16">
                                                <path d="m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143q.09.083.176.171a3 3 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15" />
                                            </svg>
                                        </a>
                                    </span>
                                    <ul class="describe-1">
                                        <li>
                                            <span class="icon-square icon-sm">
                                                <svg x="0px" y="0px" viewBox="0 0 100 100" style="enable-background:new 0 0 100 100" xml:space="preserve">
                                                <g>
                                                <path d="M3.6,75.7h3.6V7.3l85.7-0.1v85.3l-16.7-0.1l0-16.7c0-0.9-0.4-1.9-1-2.5c-0.7-0.7-1.6-1-2.5-1h-69V75.7h3.6                          H3.6v3.6H69L69,96c0,2,1.6,3.6,3.6,3.6l23.8,0.1c1,0,1.9-0.4,2.5-1c0.7-0.7,1-1.6,1-2.5V3.6c0-1-0.4-1.9-1-2.5                          c-0.7-0.7-1.6-1-2.5-1L3.6,0.1C1.6,0.2,0,1.7,0,3.7v72c0,0.9,0.4,1.9,1,2.5c0.7,0.7,1.6,1,2.5,1V75.7z"></path>
                                                <path d="M38.1,76.9v-9.5c0-1.3-1.1-2.4-2.4-2.4c-1.3,0-2.4,1.1-2.4,2.4v9.5c0,1.3,1.1,2.4,2.4,2.4                          C37,79.3,38.1,78.2,38.1,76.9"></path>
                                                <path d="M38.1,50.7V15c0-1.3-1.1-2.4-2.4-2.4c-1.3,0-2.4,1.1-2.4,2.4v35.7c0,1.3,1.1,2.4,2.4,2.4                          C37,53.1,38.1,52.1,38.1,50.7"></path>
                                                <path d="M2.4,38.8h33.3c1.3,0,2.4-1.1,2.4-2.4c0-1.3-1.1-2.4-2.4-2.4H2.4c-1.3,0-2.4,1.1-2.4,2.4                          C0,37.8,1.1,38.8,2.4,38.8"></path>
                                                <path d="M35.7,46h31c1.3,0,2.4-1.1,2.4-2.4c0-1.3-1.1-2.4-2.4-2.4h-31c-1.3,0-2.4,1.1-2.4,2.4                          C33.3,44.9,34.4,46,35.7,46"></path>
                                                <path d="M78.6,46h16.7c1.3,0,2.4-1.1,2.4-2.4c0-1.3-1.1-2.4-2.4-2.4H78.6c-1.3,0-2.4,1.1-2.4,2.4                          C76.2,44.9,77.3,46,78.6,46"></path>
                                                <path d="M78.6,46h16.7c1.3,0,2.4-1.1,2.4-2.4c0-1.3-1.1-2.4-2.4-2.4H78.6c-1.3,0-2.4,1.1-2.4,2.4                          C76.2,44.9,77.3,46,78.6,46"></path>
                                                <path d="M81,43.6v-7.1c0-1.3-1.1-2.4-2.4-2.4c-1.3,0-2.4,1.1-2.4,2.4v7.1c0,1.3,1.1,2.4,2.4,2.4                          C79.9,46,81,44.9,81,43.6"></path>
                                                <path d="M81,43.6v-7.1c0-1.3-1.1-2.4-2.4-2.4c-1.3,0-2.4,1.1-2.4,2.4v7.1c0,1.3,1.1,2.4,2.4,2.4                            C79.9,46,81,44.9,81,43.6"></path>
                                                                                    </g>
                                                                                  </svg>
                                            </span>@product.Area sq ft
                                        </li>
                                        <li>
                                            <span class="icon icon-sm icon-primary hotel-icon-10"></span>@product.Bathrooms bathrooms
                                        </li>
                                    </ul>
                                    <ul class="describe-2">
                                        <li>
                                            <span class="icon icon-sm icon-primary hotel-icon-05"></span>@product.Bedrooms bedrooms
                                        </li>
                                        <li>
                                            <span class="icon icon-sm icon-primary hotel-icon-26"></span>@product.Garages garages
                                        </li>
                                    </ul>
                                    <p class="text-abbey">@(product.Description.Length > 44 ? product.Description.Substring(0, 44) + " ..." : product.Description)</p>
                                </div>
                            </div>
                        </div>
                    }
                    <div class="col-xs-12 text-center text-sm-left offset-11">
                        <ul class="pagination">
                            <li class="@(Model.CurrentPage <= 1 ? "disabled" : "")">
                                @if (Model.CurrentPage > 1)
                                {
                                    <a class="fa-chevron-left" asp-route-page="@(Model.CurrentPage -1)" asp-action="Index" asp-controller="Blog"></a>
                                }
                            </li>
                            @for (int i = 1; i <= Model.TotalPage; i++)
                            {
                                <li class="@(Model.CurrentPage == i ? "disabled" : "")">
                                    <a asp-action="Index" asp-route-page="@i" asp-controller="Blog">@i</a>
                                </li>
                            }
                            <li class="@(Model.CurrentPage >= Model.TotalPage ? "disabled" : "")">
                                @if (Model.CurrentPage < Model.TotalPage)
                                {
                                    <a class="fa-chevron-right" asp-route-page="@(Model.CurrentPage +1)" asp-action="Index" asp-controller="Blog"></a>
                                }
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>